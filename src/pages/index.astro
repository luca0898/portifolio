---
import "../styles/global.css";
import AboutSection from "../components/AboutSection.astro";
import CertificationsSection from "../components/CertificationsSection.astro";
import CvModal from "../components/CvModal.astro";
import EducationSection from "../components/EducationSection.astro";
import ExperienceSection from "../components/ExperienceSection.astro";
import HeroSection from "../components/HeroSection.astro";
import ProjectsSection from "../components/ProjectsSection.astro";
import ReferencesSection from "../components/ReferencesSection.astro";
import SiteFooter from "../components/SiteFooter.astro";
import SiteHeader from "../components/SiteHeader.astro";
import SkillsSection from "../components/SkillsSection.astro";

const siteUrl = "https://lucaguiraldello.net";
const title = "Luca Guiraldello — Fullstack Developer";
const description = "Portfólio profissional com projetos em .NET, cloud, arquitetura e engenharia de software.";
const image = `${siteUrl}/images/profile.jpg`;

const navItems = [
  { href: "#sobre", key: "nav.about", label: "Sobre" },
  { href: "#experiencias", key: "nav.experience", label: "Experiências" },
  { href: "#formacoes", key: "nav.education", label: "Formações" },
  { href: "#habilidades", key: "nav.skills", label: "Habilidades" },
  { href: "#projetos", key: "nav.projects", label: "Projetos" },
  { href: "#referencias", key: "nav.references", label: "Referências" },
];
---

<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/favicon/favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" />
    <link rel="apple-touch-icon" href="/favicon/apple-touch-icon.png" />
    <meta
      id="meta-description"
      name="description"
      content="Portfólio de desenvolvedor fullstack com foco em .NET e backend."
    />
    <meta name="robots" content="index, follow" />
    <title>{title}</title>
    <meta name="description" content={description} />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={siteUrl} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />

    <!-- WhatsApp / Facebook -->
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter (funciona no WhatsApp também) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={image} />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P8SYZSY0R9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-P8SYZSY0R9');
    </script>
  </head>
  <body class="bg-slate-950 text-slate-100 antialiased">
    <SiteHeader navItems={navItems} />

    <main id="topo" class="mx-auto w-full max-w-6xl px-4 pb-16 pt-12 sm:px-6 lg:pb-24">
      <HeroSection />
      <AboutSection />
      <ExperienceSection />
      <EducationSection />
      <CertificationsSection />
      <SkillsSection />
      <ProjectsSection />
      <ReferencesSection />
    </main>

    <CvModal />

    <SiteFooter />

    <script>
      const toggle = document.getElementById("menu-toggle");
      const menu = document.getElementById("mobile-menu");
      const langToggle = document.getElementById("lang-toggle");
      const langToggleMobile = document.getElementById("lang-toggle-mobile");
      const metaDescription = document.getElementById("meta-description");
      const cvModalOpen = document.getElementById("cv-modal-open");
      const cvModal = document.getElementById("cv-modal");
      const cvModalClose = document.getElementById("cv-modal-close");
      const cvDownloadLink = document.querySelector("[data-cv-download='true']");

      const translations = {
        pt: {
          "brand.name": "Luca Guiraldello",
          "nav.menu": "Menu",
          "nav.about": "Sobre",
          "nav.experience": "Experiências",
          "nav.education": "Formações",
          "nav.skills": "Habilidades",
          "nav.projects": "Projetos",
          "nav.references": "Referências",
          "hero.kicker": "Desenvolvedor Fullstack",
          "hero.title": "Construindo soluções escaláveis em .NET, APIs e arquiteturas orientadas a domínio.",
          "hero.description":
            "Sou um desenvolvedor fullstack com foco em backend e ecossistema Microsoft. Ajudo times a entregar produtos robustos, com integrações confiáveis, testes automatizados e observabilidade desde o primeiro deploy.",
          "hero.cta.projects": "Ver projetos",
          "hero.cta.cv": "Download do CV",
          "hero.cta.contact": "Contato e referências",
          "summary.title": "Resumo rápido",
          "summary.item1": "+8 anos entregando APIs REST, gRPC e mensageria em .NET.",
          "summary.item2": "Experiência com AWS (RDS, SQS, ECS, EKS), CI/CD e infraestrutura como código.",
          "summary.item3": "Integrações com ERPs, gateways de pagamento e sistemas legados.",
          "summary.item4": "Mentoria de equipes e definição de padrões de arquitetura.",
          "about.kicker": "Sobre",
          "about.title": "Paixão por backend confiável",
          "about.description":
            "Trabalho com foco em estabilidade, performance e escalabilidade. Tenho vivência em pipelines de integração contínua, code reviews e práticas de observabilidade para manter produtos saudáveis em produção. Gosto de traduzir necessidades de negócio em soluções técnicas sustentáveis.",
          "experience.kicker": "Experiências",
          "experience.title": "Histórico profissional",
          "experience.role1.company": "Zup Innovation",
          "experience.role1.title": "Full Stack Developer Senior",
          "experience.role1.period": "abr de 2025 - o momento · 10 meses · Campinas, SP - Brasil · Remoto",
          "experience.role1.project": "Desenvolvedor de Software | Gestão de Leads - Investimentos (Itaú)",
          "experience.role1.item1":
            "Experiência com arquitetura de microsserviços, sistemas distribuídos, EDA, REST APIs, filas e serviços backend de alta performance.",
          "experience.role1.item2":
            "Foco em performance, escalabilidade, observabilidade, monitoramento, logging e padrões de resiliência.",
          "experience.role1.item3":
            "Participação ativa em arquitetura, code reviews, decisões técnicas e melhoria contínua.",
          "experience.role1.item4":
            "Desenvolvimento com .NET (C#, .NET 6/7/8, ASP.NET Core, Web API), PostgreSQL, AWS, Kafka, Docker, Terraform e CI/CD.",
          "experience.role2.company": "Grupo Boticário",
          "experience.role2.title": "Full Stack Developer Senior",
          "experience.role2.period": "ago de 2024 - fev de 2025 · 7 meses · Campinas, SP - Brasil · Remoto",
          "experience.role2.project": "Plataforma de previsão de demanda",
          "experience.role2.item1":
            "Desenvolvimento de plataforma de planejamento com dados de previsão e ML para otimizar produção e vendas.",
          "experience.role2.item2":
            "Kotlin e React para ajustes de curvas estatísticas conforme sazonalidade.",
          "experience.role2.item3":
            "Stack: GCP BigQuery, Postgres, AWS, Kotlin (Spring), Node.js, React microfrontend e CI/CD.",
          "education.kicker": "Formações",
          "education.title": "Formação acadêmica",
          "education.item1.institution": "Universidade Cruzeiro do Sul",
          "education.item1.title": "Bacharelado, Análise de Sistemas de Computação",
          "education.item1.period": "jul de 2019 - jun de 2021",
          "education.item2.institution": "Centro Paula Souza ETEC João Belarmino",
          "education.item2.title": "Tecnólogo, Ensino Médio Integrado ao Técnico de Informática",
          "education.item2.period": "2013 - 2015",
          "certifications.kicker": "Licenças e certificados",
          "certifications.title": "Credenciais profissionais",
          "certifications.item1.issuer": "Zup Innovation",
          "certifications.item1.title": "Stackspot BIT (Practitioner)",
          "certifications.item1.period": "Verificação emitida em jul de 2025",
          "certifications.item2.issuer": "Udemy",
          "certifications.item2.title": "The Complete Apache Kafka Practical Guide",
          "certifications.item2.period": "Verificação emitida em fev de 2023",
          "certifications.item2.code": "Código da credencial: UC-080a2452-ccd8-4edd-8178-de50b417c430",
          "certifications.item3.issuer": "Zup Innovation",
          "certifications.item3.title": "IA generativa",
          "certifications.item3.period": "Verificação emitida em jul de 2025",
          "skills.kicker": "Habilidades",
          "skills.title": "Stack principal",
          "skills.item1": "C#, .NET 8 e ASP.NET Core",
          "skills.item2": "Arquitetura limpa, DDD e CQRS",
          "skills.item3": "Mensageria com RabbitMQ e AWS SQS",
          "skills.item4": "SQL Server, PostgreSQL e Redis",
          "skills.item5": "Docker, Kubernetes (EKS) e IaC",
          "skills.item6": "CI/CD com GitHub Actions e pipelines AWS",
          "projects.kicker": "Projetos",
          "projects.title": "Cases de impacto",
          "projects.item1.title": "Worker em tempo real",
          "projects.item1.description":
            "Processamento contínuo de alterações na estrutura comercial para democratizar dados e abastecer múltiplos produtos internos.",
          "projects.item2.title": "Plataforma de Previsão de Demanda",
          "projects.item2.description":
            "Planejamento com dados de vendas e ML, permitindo ajustar curvas estatísticas para otimizar produção, logística e vendas.",
          "projects.item3.title": "Cubiscan",
          "projects.item3.description":
            "Sistema com leitor Cubiscan para capturar códigos, dimensões e peso, enviando os dados ao SAP EWM para organização e otimização.",
          "references.kicker": "Referências",
          "references.title": "Vamos conversar?",
          "references.available.title": "Disponível para",
          "references.available.item1": "Projetos com foco em APIs, integrações e sistemas críticos.",
          "references.available.item2": "Consultoria em arquitetura e modernização de legado.",
          "references.available.item3": "Mentoria de times backend e squads fullstack.",
          "references.contact.title": "Contato",
          "references.contact.item1": "Email: lucaguiraldello@hotmail.com",
          "references.contact.item2": "LinkedIn: linkedin.com/in/luca-guiraldello",
          "references.contact.item3": "GitHub: github.com/luca0898",
          "cv.modal.close": "Fechar",
          "cv.modal.kicker": "Currículo",
          "cv.modal.title": "Escolha o formato do CV",
          "cv.modal.description": "Baixe o resumo ou solicite o CV completo por e-mail.",
          "cv.modal.download": "Download resumido",
          "cv.modal.request": "Solicitar CV completo",
          "footer.rights": "© 2026 Luca Guiraldello. Todos os direitos reservados.",
          metaDescription: "Portfólio de desenvolvedor fullstack com foco em .NET e backend.",
          pageTitle: "Portfólio | Desenvolvedor Fullstack",
        },
        en: {
          "brand.name": "Luca Guiraldello",
          "nav.menu": "Menu",
          "nav.about": "About",
          "nav.experience": "Experience",
          "nav.education": "Education",
          "nav.skills": "Skills",
          "nav.projects": "Projects",
          "nav.references": "References",
          "hero.kicker": "Fullstack Developer",
          "hero.title": "Building scalable solutions in .NET, APIs, and domain-driven architectures.",
          "hero.description":
            "I'm a fullstack developer focused on backend and the Microsoft ecosystem. I help teams deliver robust products with reliable integrations, automated tests, and observability from the first deploy.",
          "hero.cta.projects": "View projects",
          "hero.cta.cv": "Download CV",
          "hero.cta.contact": "Contact & references",
          "summary.title": "Quick summary",
          "summary.item1": "8+ years delivering REST APIs, gRPC, and messaging with .NET.",
          "summary.item2": "Experience with AWS (RDS, SQS, ECS, EKS), CI/CD, and infrastructure as code.",
          "summary.item3": "Integrations with ERPs, payment gateways, and legacy systems.",
          "summary.item4": "Team mentoring and architecture standards definition.",
          "about.kicker": "About",
          "about.title": "Passion for reliable backends",
          "about.description":
            "I focus on stability, performance, and scalability. I have hands-on experience with CI pipelines, code reviews, and observability practices to keep production systems healthy. I enjoy translating business needs into sustainable technical solutions.",
          "experience.kicker": "Experience",
          "experience.title": "Professional history",
          "experience.role1.company": "Zup Innovation",
          "experience.role1.title": "Senior Full Stack Developer",
          "experience.role1.period": "Apr 2025 - Present · 10 months · Campinas, SP - Brazil · Remote",
          "experience.role1.project": "Software Developer | Lead Management - Investments (Itaú)",
          "experience.role1.item1":
            "Experience with microservices architecture, distributed systems, EDA, REST APIs, message queues, and high-performance backend services.",
          "experience.role1.item2":
            "Focus on performance, scalability, observability, monitoring, logging, and resilience patterns.",
          "experience.role1.item3":
            "Active participation in architecture discussions, code reviews, technical decisions, and continuous improvement.",
          "experience.role1.item4":
            "Backend development with .NET (C#, .NET 6/7/8, ASP.NET Core, Web API), PostgreSQL, AWS, Kafka, Docker, Terraform, and CI/CD.",
          "experience.role2.company": "Grupo Boticário",
          "experience.role2.title": "Senior Full Stack Developer",
          "experience.role2.period": "Aug 2024 - Feb 2025 · 7 months · Campinas, SP, Brazil",
          "experience.role2.project": "Demand forecasting platform",
          "experience.role2.item1":
            "Built a planning platform using forecast and ML data to optimize production and sales.",
          "experience.role2.item2":
            "Kotlin and React to adjust statistical curves according to seasonal demand.",
          "experience.role2.item3":
            "Stack: GCP BigQuery, Postgres, AWS, Kotlin (Spring), Node.js, React microfrontends, and CI/CD.",
          "education.kicker": "Education",
          "education.title": "Academic background",
          "education.item1.institution": "Universidade Cruzeiro do Sul",
          "education.item1.title": "Bachelor's in Computer Systems Analysis",
          "education.item1.period": "Jul 2019 - Jun 2021",
          "education.item2.institution": "Centro Paula Souza ETEC João Belarmino",
          "education.item2.title": "Technical High School in IT",
          "education.item2.period": "2013 - 2015",
          "certifications.kicker": "Licenses & certifications",
          "certifications.title": "Professional credentials",
          "certifications.item1.issuer": "Zup Innovation",
          "certifications.item1.title": "Stackspot BIT (Practitioner)",
          "certifications.item1.period": "Verified Jul 2025",
          "certifications.item2.issuer": "Udemy",
          "certifications.item2.title": "The Complete Apache Kafka Practical Guide",
          "certifications.item2.period": "Verified Feb 2023",
          "certifications.item2.code": "Credential ID: UC-080a2452-ccd8-4edd-8178-de50b417c430",
          "certifications.item3.issuer": "Zup Innovation",
          "certifications.item3.title": "Generative AI",
          "certifications.item3.period": "Verified Jul 2025",
          "skills.kicker": "Skills",
          "skills.title": "Core stack",
          "skills.item1": "C#, .NET 8, and ASP.NET Core",
          "skills.item2": "Clean architecture, DDD, and CQRS",
          "skills.item3": "Messaging with RabbitMQ and AWS SQS",
          "skills.item4": "SQL Server, PostgreSQL, and Redis",
          "skills.item5": "Docker, Kubernetes (EKS), and IaC",
          "skills.item6": "CI/CD with GitHub Actions and AWS pipelines",
          "projects.kicker": "Projects",
          "projects.title": "Impact cases",
          "projects.item1.title": "Real-time worker",
          "projects.item1.description":
            "Continuous processing of commercial structure changes to democratize data for multiple internal products.",
          "projects.item2.title": "Demand Forecasting Platform",
          "projects.item2.description":
            "Planning with sales and ML data, allowing analysts to adjust statistical curves to optimize production, logistics, and sales.",
          "projects.item3.title": "Cubiscan",
          "projects.item3.description":
            "Cubiscan reader system that captures barcode, dimensions, and weight data and sends it to SAP EWM for optimization.",
          "references.kicker": "References",
          "references.title": "Let's talk?",
          "references.available.title": "Available for",
          "references.available.item1": "Projects focused on APIs, integrations, and critical systems.",
          "references.available.item2": "Architecture consulting and legacy modernization.",
          "references.available.item3": "Backend team mentoring and fullstack squads.",
          "references.contact.title": "Contact",
          "references.contact.item1": "Email: lucaguiraldello@hotmail.com",
          "references.contact.item2": "LinkedIn: linkedin.com/in/luca-guiraldello",
          "references.contact.item3": "GitHub: github.com/luca0898",
          "cv.modal.close": "Close",
          "cv.modal.kicker": "Resume",
          "cv.modal.title": "Choose the CV format",
          "cv.modal.description": "Download the summary or request the full CV by email.",
          "cv.modal.download": "Download summary",
          "cv.modal.request": "Request full CV",
          "footer.rights": "© 2026 Luca Guiraldello. All rights reserved.",
          metaDescription: "Fullstack developer portfolio focused on .NET and backend.",
          pageTitle: "Portfolio | Fullstack Developer",
        },
      };

      const applyTranslations = (lang) => {
        const dictionary = translations[lang] || translations.pt;
        document.querySelectorAll("[data-i18n]").forEach((element) => {
          const key = element.getAttribute("data-i18n");
          if (key && dictionary[key]) {
            element.textContent = dictionary[key];
          }
        });
        if (metaDescription) {
          metaDescription.setAttribute("content", dictionary.metaDescription);
        }
        if (dictionary.pageTitle) {
          document.title = dictionary.pageTitle;
        }
        document.documentElement.lang = lang === "en" ? "en" : "pt-BR";
        if (cvDownloadLink) {
          const linkHref =
            lang === "en"
              ? cvDownloadLink.getAttribute("data-cv-en")
              : cvDownloadLink.getAttribute("data-cv-pt");
          if (linkHref) {
            cvDownloadLink.setAttribute("href", linkHref);
          }
        }
      };

      const setLanguage = (lang) => {
        applyTranslations(lang);
        if (langToggle) {
          langToggle.textContent = lang === "en" ? "EN" : "PT";
        }
        if (langToggleMobile) {
          langToggleMobile.textContent = lang === "en" ? "EN" : "PT";
        }
        localStorage.setItem("portfolioLanguage", lang);
      };

      const toggleLanguage = () => {
        const current = localStorage.getItem("portfolioLanguage") || "pt";
        const next = current === "pt" ? "en" : "pt";
        setLanguage(next);
      };

      const initialLang = localStorage.getItem("portfolioLanguage") || "pt";
      setLanguage(initialLang);

      if (toggle && menu) {
        toggle.addEventListener("click", () => {
          const isExpanded = toggle.getAttribute("aria-expanded") === "true";
          toggle.setAttribute("aria-expanded", String(!isExpanded));
          menu.classList.toggle("hidden");
        });

        menu.addEventListener("click", (event) => {
          const target = event.target;
          if (target instanceof HTMLAnchorElement) {
            menu.classList.add("hidden");
            toggle.setAttribute("aria-expanded", "false");
          }
        });
      }

      if (langToggle) {
        langToggle.addEventListener("click", toggleLanguage);
      }

      if (langToggleMobile) {
        langToggleMobile.addEventListener("click", toggleLanguage);
      }

      const openCvModal = () => {
        if (!cvModal) return;
        cvModal.classList.remove("hidden");
        cvModal.classList.add("flex");
        cvModal.setAttribute("aria-hidden", "false");
      };

      const closeCvModal = () => {
        if (!cvModal) return;
        cvModal.classList.add("hidden");
        cvModal.classList.remove("flex");
        cvModal.setAttribute("aria-hidden", "true");
      };

      if (cvModalOpen) {
        cvModalOpen.addEventListener("click", openCvModal);
      }

      if (cvModalClose) {
        cvModalClose.addEventListener("click", closeCvModal);
      }

      if (cvModal) {
        cvModal.addEventListener("click", (event) => {
          const target = event.target;
          if (target === cvModal) {
            closeCvModal();
          }
          if (target instanceof HTMLElement && target.closest("[data-close-modal='true']")) {
            closeCvModal();
          }
        });
      }

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          closeCvModal();
        }
      });
    </script>
  </body>
</html>
